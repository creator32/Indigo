@using System.Configuration;
@model TravelerPortal.Data.Article

<h1>@Model.Name</h1>
@{Html.RenderPartial(string.Format(@"{0}/{1}", ConfigurationManager.AppSettings["pathToArticles"], Model.DetailedDescriptionPath), Model);}
<h1>Комментарии</h1>
@{Html.RenderAction("Comments", "Comments", new { area = string.Empty, areaId = ViewBag.AreaId, entityId = Model.Id });}
<h1>Добавить комментарий</h1>
<a id="fb-login-button" href="javascript:void(0)" onclick="model.methods.loginToFB(); return false;">FB Login</a>
<a id="vk-login-button" href="javascript:void(0)" onclick="model.methods.loginToVK(); return false;">VK Login</a>
<br>
<br>
<textarea id="comment" placeholder="Комментарий"></textarea>
<br>
<input id="userName" type="text" value="" placeholder="Имя" readonly="readonly" />
<br>
<br>
<input id="userEmail" type="text" value="" placeholder="E-mail" />
<br>
<br>
<button onclick="model.methods.sendComment()">Отправить</button>

@section FooterScripts {
    <script>
        server.configurations.VKAppId = @ViewBag.VKAppId;
        server.configurations.FBAppId = "@ViewBag.FBAppId";
        server.routeUrls.addComment = "@Url.RouteUrl("AddComment", new { areaId = (int)ViewBag.AreaId, entityId = Model.Id })";
    </script>
    <script src="http://connect.facebook.net/en_US/all.js" type="text/javascript"></script>
    <script src="http://vkontakte.ru/js/api/openapi.js" type="text/javascript"></script>
    <script src="~/Content/js/ViewsJS/Articles/article.js" type="text/javascript"></script>
}